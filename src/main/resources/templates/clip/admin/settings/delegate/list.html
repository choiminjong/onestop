<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">


<head th:replace="fragments/common :: head"></head>

<body>

<div id="wrapper">

    <!--메뉴-->
    <nav class="navbar-default navbar-static-side" role="navigation"
         th:replace="fragments/common :: menu('Settings','delegate')"></nav>

    <div id="page-wrapper" class="gray-bg">

        <!--프로필-->
        <div class="row border-bottom" th:replace="fragments/common :: profile"></nav></div>

        <!--Content-->
        <!--Content Body-->
        <div class="wrapper wrapper-content animated fadeInRight">
            <!--그룹 관리-->
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-title">그룹 관리</div>
                        <div class="dmzt-container ibox-content p-md" id="group-container">
                            <div class="row">
                                <div class="col-lg-12">
                                    <form class="form-inline d-flex justify-content-end" method="GET" th:action="@{/clip/delegate}">
                                        <div class="form-group mx-sm-3 mb-2">
                                            <label for="searchText" class="sr-only">검색</label> &nbsp&nbsp&nbsp&nbsp
                                            <input type="text" class="form-control" id="searchText" name="searchText" th:value="${param.searchText}">
                                        </div>
                                        <button type="submit" class="btn btn-light mb-2">검색</button>
                                    </form>
                                </div>
                            </div>
                            <hr/>

                            <div class="row">
                                <div class="col-lg-12">
                                    <table id="grid-groups" class="table table-striped">
                                        <thead>
                                            <tr class="table-info">
                                                <th style="text-align: center;" scope="col">순서</th>
                                                <th style="text-align: center;" scope="col">타입</th>
                                                <th style="text-align: center;" scope="col">그룹 이름</th>
                                                <th style="text-align: center;" scope="col">그룹 관리자</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="link_btn hover" th:each="delegate : ${delegates}">
                                                <td style="text-align: center;">
                                                    <span th:text="${delegate.id}"></span>
                                                </td>
                                                <td style="text-align: center;">
                                                    <span>서비스 타입</span>
                                                </td>
                                                <td style="text-align: center;">
                                                    <span th:text="${delegate.groupname}"></span>
                                                </td>
                                                <td style="text-align: center;" th:each="delegateUser : ${delegate.delegateUsers}">
                                                    <span th:text="${delegateUser.username}"></span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 구성원 관리-->
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-title">그룹 관리자</div>
                        <div class="dmzt-container ibox-content p-md">
                            <hr/>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-horizontal">
                                        <div class="form-group">
                                            <label class="col-lg-1 control-label">Group Id</label>
                                            <div class="col-lg-11">
                                                <input id="groupUserId" name="groupUserId" type="number" class="form-control disabled full-max-width" disabled/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-lg-1 control-label">사용자</label>
                                            <div class="col-lg-11">
                                                <form id="form-group-users">
                                                    <table id="grid-group-user" class="table table-striped">
                                                        <thead>
                                                        <tr>
                                                            <th>no</th>
                                                            <th>username</th>
                                                            <th>email</th>
                                                            <th>법인</th>
                                                            <th>실</th>
                                                            <th>팀</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody id="grid-groups-user-list" class="tbody-grid-groups-user-list"></tbody>

                                                    </table>
                                                </form>

                                                <div class="ibox-footer">
                                                    <div class="input-group">
                                                        <select id="input-group-users" class="" style="width: 100%;"
                                                                multiple="multiple"
                                                                placeholder="User name is ..."></select>
                                                        <span class="input-group-btn">
                                                        <button type="button" id="add-user-to-group-button"
                                                                class="btn btn-primary"><span class="fa fa-plus"></span></button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-offset-1 col-lg-11">
                                                <button type="button" class="btn btn-default dmzt-clear-form-button">
                                                    초기화
                                                </button>
                                                <button type="button" id="bds-search-list-add"
                                                        class="btn btn-primary dmzt-create-button">추가
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--footer-->
        <div class="footer" th:replace="fragments/common :: footer"></div>

    </div>
    <script>
        $(document).ready(function () {
            $("#input-group-users").select2();
        });
    </script>
</div>
</body>
</html>